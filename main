#define _CRT_SECURE_NO_WARNINGS
#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include <windows.h>
#include <time.h>
#include "Header.h"
#define player 4
#define Joker 2

char Class[13][10] = { "달무티", "대주교","시종장","남작부인","수녀원장","기사","재봉사","석공","요리사","양치기","광부","농노","조커" };//카드 계급
char D_Class[player][10] = { "왕", "상인", "소작농", "농노" };
typedef enum number_cards { Dal=1, Arch, Si, Mis, Sister, Knight, Seam, Gong, Cook, Shep, Miner, Nong };
int Total_Card = Dal + Arch + Si + Mis + Sister + Knight + Seam + Gong + Cook + Shep + Miner + Nong + Joker;//80

struct  Card
{
	char Names[10]; //이름 
	int Cards;  //계급(카드 숫자)
	struct Class class; //카드 패 함수(내가 무슨 카드를 가지고 있는가에 대한 정보)
};

struct Class {
	enum card_ss {//각 계급 카드 개수
		Dal_c = 0, Arch_c = 0, Si_c = 0, Mis_c = 0, Sister_c = 0, Knight_c = 0, Seam_c = 0, Gong_c = 0,
		Cook_c = 0, Shep_c = 0, Miner_c = 0, Nong_c = 0, Joker_c = 0}h;
	int Card_s[13];
} Card_s[13] = { Dal_c, Arch_c, Si_c, Mis_c, Sister_c, Knight_c, Seam_c, Gong_c, Cook_c, Shep_c, Miner_c, Nong_c, Joker_c };

int main(int** fp) {//메인 화면, 게임 첫 창
	int input = 0;
	struct Card Dalmuti[player] = { 0 };

MAIN:
	printf("                위대한 달무티\n\n");
	printf("             인생은 불공평 합니다.\n\n");
	printf("1.게임 시작\t2.게임 방법\t3.게임 종료\n\n");
	printf("              숫자를 입력하시오: \n\n\n");
	printf("                               전체 화면으로 진행해주세요.\n");
	scanf("%d", &input);

	switch (input) {
	case 1:
		system("cls");
		Write_User_Nickname(Dalmuti);
		Divide_Class(Dalmuti);
		break;
	case 2:
		system("cls");
		int _input = Print_Game_Rule();
		switch (_input) {
		case 1:
			system("cls");
			goto MAIN;
			break;
		case 2:
			break;
		}
	case 3:
		printf("\n\n\n\t\t\t\t\t\t\t\t\t\t\t     게임을 종료하겠습니다.");
		break;
	}

	input = 0;
	printf("계급을 나누기 위해 카드를 뽑으시겠습니까?(1. 예, 2. 아니요): \n");
	scanf("%d\n", &input);

	if (input == 2)
		exit(1);

	Divide_Class(Dalmuti); //계급 편성 함수 호출

	Card_Deal(Dalmuti); //카드 배분 함수 호출

	if (Revolution(fp, Dalmuti) == 0) {//혁명 함수 호출
		for(int i=player; i<)
		Dalmuti[player-3].Names == D_Class;
		Pay_A_Tribute(**fp, Dalmuti);//조공 함수 호출
	}

	if (Revolution(fp, Dalmuti) == -1) {//혁명 함수 호출
		Dalmuti[0].Names == D_Class;
		Pay_A_Tribute(**fp, Dalmuti);//조공 함수 호출
	}
	
	King_Order_To_Slave(); //왕이 시킬 일 함수 호출

	input = 0;
	printf("카드를 배분하시겠습니까?(1. 예, 2. 아니요) ");
	scanf("%d\n\n", &input);

	if (input == 2)
		exit(1);



	return 0;
}
